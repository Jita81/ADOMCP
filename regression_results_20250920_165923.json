{
  "summary": {
    "timestamp": "2025-09-20T16:59:23.642163",
    "total_tests": 16,
    "passed": 10,
    "failed": 6,
    "success_rate": 62.5,
    "total_duration": 30.036603927612305,
    "mcp_server_url": "https://adomcp.vercel.app",
    "failed_tests": [
      {
        "name": "All Endpoints Accessible",
        "error": null,
        "message": "Failed endpoints: ['/api/auth (404)', '/api/secure-keys (404)', '/api/secure-mcp (404)', '/api/oauth (404)', '/api/oauth_mcp (404)']"
      },
      {
        "name": "Authentication System",
        "error": "404 Client Error: Not Found for url: https://adomcp.vercel.app/api/auth",
        "message": "Authentication system test failed"
      },
      {
        "name": "Secure API Key Management",
        "error": null,
        "message": "No ADOMCP API key available - authentication test may have failed"
      },
      {
        "name": "Secure MCP Protocol",
        "error": null,
        "message": "No ADOMCP API key available - authentication test may have failed"
      },
      {
        "name": "Security Features",
        "error": "Expecting value: line 1 column 1 (char 0)",
        "message": "Security features test failed"
      },
      {
        "name": "OAuth Authentication System",
        "error": "404 Client Error: Not Found for url: https://adomcp.vercel.app/api/oauth",
        "message": "OAuth authentication system test failed"
      }
    ],
    "passed_tests": [
      {
        "name": "MCP Server Health Check",
        "duration": 0.9066059589385986,
        "message": "Server healthy - Version 2.2.0"
      },
      {
        "name": "MCP JSON-RPC Protocol",
        "duration": 0.4879477024078369,
        "message": "JSON-RPC protocol working - 3 tools available"
      },
      {
        "name": "Azure DevOps Connection",
        "duration": 0.626945972442627,
        "message": "Connected to project: MCPTest"
      },
      {
        "name": "GitHub Connection",
        "duration": 0.397352933883667,
        "message": "Connected to repository: Jita81/ADOMCP"
      },
      {
        "name": "Azure DevOps Work Item CRUD",
        "duration": 1.3835880756378174,
        "message": "CRUD operations successful on work item 78"
      },
      {
        "name": "GitHub Issue Creation",
        "duration": 0.6259779930114746,
        "message": "Created GitHub issue #12"
      },
      {
        "name": "API Key Management",
        "duration": 0.4939901828765869,
        "message": "API key management working"
      },
      {
        "name": "Supabase Configuration",
        "duration": 0.51025390625,
        "message": "Supabase configuration endpoints working"
      },
      {
        "name": "Legacy Endpoint Deprecation",
        "duration": 0.6841170787811279,
        "message": "All 3 legacy endpoints accessible (backward compatibility)"
      },
      {
        "name": "Error Handling",
        "duration": 0.6610138416290283,
        "message": "All 3 error handling tests passed"
      }
    ]
  },
  "detailed_results": [
    {
      "test_name": "MCP Server Health Check",
      "success": true,
      "duration": 0.9066059589385986,
      "message": "Server healthy - Version 2.2.0",
      "details": {
        "status": "healthy",
        "service": "Azure DevOps Multi-Platform MCP",
        "version": "2.2.0",
        "timestamp": "2025-09-20T15:58:54.421283",
        "message": "Vercel deployment successful!",
        "endpoints": {
          "health": "/health",
          "test": "/api/test",
          "capabilities": "/api/capabilities",
          "mcp": "/api/mcp"
        },
        "api_info": {
          "note": "Each /api/* endpoint is a separate Vercel function",
          "protocol": "REST + JSON-RPC 2.0 for MCP"
        },
        "docs": "Use /api/capabilities to see available tools"
      },
      "error": null
    },
    {
      "test_name": "All Endpoints Accessible",
      "success": false,
      "duration": 6.029054880142212,
      "message": "Failed endpoints: ['/api/auth (404)', '/api/secure-keys (404)', '/api/secure-mcp (404)', '/api/oauth (404)', '/api/oauth_mcp (404)']",
      "details": {
        "/health": 200,
        "/api/test": 200,
        "/api/capabilities": 200,
        "/api/mcp": 200,
        "/api/keys?user_id=test": 200,
        "/api/supabase-config": 200,
        "/api/azure-devops": 200,
        "/api/github": 200,
        "/api/auth": 404,
        "/api/secure-keys": 404,
        "/api/secure-mcp": 404,
        "/api/oauth": 404,
        "/api/oauth_mcp": 404
      },
      "error": null
    },
    {
      "test_name": "MCP JSON-RPC Protocol",
      "success": true,
      "duration": 0.4879477024078369,
      "message": "JSON-RPC protocol working - 3 tools available",
      "details": {
        "tools_count": 3,
        "call_result": {
          "status": "success",
          "message": "Work item 'Test Item' would be created",
          "simulated": true,
          "timestamp": "2025-09-20T15:59:02.995609",
          "note": "This is a demo response. Real implementation requires API keys."
        }
      },
      "error": null
    },
    {
      "test_name": "Azure DevOps Connection",
      "success": true,
      "duration": 0.626945972442627,
      "message": "Connected to project: MCPTest",
      "details": {
        "id": "bef90b5b-8996-49cd-a9ac-8893a4ca7677",
        "name": "MCPTest",
        "description": null,
        "state": "wellFormed"
      },
      "error": null
    },
    {
      "test_name": "GitHub Connection",
      "success": true,
      "duration": 0.397352933883667,
      "message": "Connected to repository: Jita81/ADOMCP",
      "details": {
        "id": 1060041082,
        "name": "ADOMCP",
        "full_name": "Jita81/ADOMCP",
        "description": null,
        "private": false,
        "default_branch": "main",
        "html_url": "https://github.com/Jita81/ADOMCP"
      },
      "error": null
    },
    {
      "test_name": "Azure DevOps Work Item CRUD",
      "success": true,
      "duration": 1.3835880756378174,
      "message": "CRUD operations successful on work item 78",
      "details": {
        "work_item_id": 78,
        "create": {
          "id": 78,
          "title": "Regression Test Work Item - 2025-09-20 16:59:07",
          "type": "User Story",
          "state": "New",
          "url": "https://dev.azure.com/GenerativeAILab/bef90b5b-8996-49cd-a9ac-8893a4ca7677/_apis/wit/workItems/78"
        },
        "read": {
          "id": 78,
          "title": "Regression Test Work Item - 2025-09-20 16:59:07",
          "description": "This work item was created during regression testing to verify CRUD operations.",
          "type": "User Story",
          "state": "New",
          "assignee": null,
          "created_date": "2025-09-20T15:59:07.433Z",
          "changed_date": "2025-09-20T15:59:07.433Z",
          "url": "https://dev.azure.com/GenerativeAILab/bef90b5b-8996-49cd-a9ac-8893a4ca7677/_apis/wit/workItems/78"
        },
        "update": {
          "id": 78,
          "title": "Regression Test Work Item - 2025-09-20 16:59:07",
          "type": "User Story",
          "state": "Active",
          "revision": 2,
          "url": "https://dev.azure.com/GenerativeAILab/bef90b5b-8996-49cd-a9ac-8893a4ca7677/_apis/wit/workItems/78"
        }
      },
      "error": null
    },
    {
      "test_name": "GitHub Issue Creation",
      "success": true,
      "duration": 0.6259779930114746,
      "message": "Created GitHub issue #12",
      "details": {
        "id": 3437264806,
        "number": 12,
        "title": "Regression Test Issue - 2025-09-20 16:59:09",
        "state": "open",
        "html_url": "https://github.com/Jita81/ADOMCP/issues/12",
        "created_at": "2025-09-20T15:59:09Z"
      },
      "error": null
    },
    {
      "test_name": "API Key Management",
      "success": true,
      "duration": 0.4939901828765869,
      "message": "API key management working",
      "details": {
        "get": {
          "user_id": "regression-test-user-123",
          "stored_platforms": [
            "azure_devops",
            "github"
          ],
          "message": "API key storage is ready. Use POST to store keys.",
          "timestamp": "2025-09-20T15:59:11.311844",
          "note": "Actual keys are stored securely and not returned in GET requests"
        },
        "post": {
          "status": "success",
          "message": "API key for azure_devops stored securely",
          "user_id": "regression-test-user-123",
          "platform": "azure_devops",
          "metadata": {
            "organization_url": "https://dev.azure.com/GenerativeAILab",
            "project_id": "test-project"
          },
          "timestamp": "2025-09-20T15:59:11.534713",
          "note": "This is a simulated response. Real implementation would use Supabase."
        }
      },
      "error": null
    },
    {
      "test_name": "Supabase Configuration",
      "success": true,
      "duration": 0.51025390625,
      "message": "Supabase configuration endpoints working",
      "details": {
        "config": {
          "service": "Supabase Configuration",
          "timestamp": "2025-09-20T15:59:12.799016",
          "environment_status": {
            "SUPABASE_URL": "missing",
            "SUPABASE_ANON_KEY": "missing",
            "SUPABASE_SERVICE_KEY": "missing"
          },
          "database_ready": false,
          "required_tables": [
            "api_keys"
          ],
          "setup_instructions": {
            "1": "Create Supabase project at https://supabase.com",
            "2": "Add environment variables to Vercel project settings",
            "3": "Run database migrations",
            "4": "Test connection"
          }
        },
        "create": {
          "status": "success",
          "message": "Database schema creation simulated",
          "tables_created": [
            {
              "name": "api_keys",
              "columns": [
                "id (UUID, primary key)",
                "user_id (TEXT)",
                "platform (TEXT)",
                "api_key (TEXT, encrypted)",
                "metadata (JSONB)",
                "created_at (TIMESTAMPTZ)"
              ]
            }
          ],
          "policies_created": [
            "Row Level Security enabled",
            "User access policy (users can only see their own keys)"
          ],
          "timestamp": "2025-09-20T15:59:13.016749",
          "note": "This is a simulation. Real implementation would use Supabase client."
        }
      },
      "error": null
    },
    {
      "test_name": "Authentication System",
      "success": false,
      "duration": 0.14090800285339355,
      "message": "Authentication system test failed",
      "details": null,
      "error": "404 Client Error: Not Found for url: https://adomcp.vercel.app/api/auth"
    },
    {
      "test_name": "Secure API Key Management",
      "success": false,
      "duration": 2.1457672119140625e-06,
      "message": "No ADOMCP API key available - authentication test may have failed",
      "details": null,
      "error": null
    },
    {
      "test_name": "Secure MCP Protocol",
      "success": false,
      "duration": 3.0994415283203125e-06,
      "message": "No ADOMCP API key available - authentication test may have failed",
      "details": null,
      "error": null
    },
    {
      "test_name": "Security Features",
      "success": false,
      "duration": 0.833935022354126,
      "message": "Security features test failed",
      "details": null,
      "error": "Expecting value: line 1 column 1 (char 0)"
    },
    {
      "test_name": "Legacy Endpoint Deprecation",
      "success": true,
      "duration": 0.6841170787811279,
      "message": "All 3 legacy endpoints accessible (backward compatibility)",
      "details": {
        "test_results": [
          [
            "Legacy API key endpoint",
            true
          ],
          [
            "Legacy MCP endpoint",
            true
          ],
          [
            "Legacy MCP JSON-RPC",
            true
          ]
        ],
        "warning": "Legacy endpoints should be replaced with secure versions"
      },
      "error": null
    },
    {
      "test_name": "OAuth Authentication System",
      "success": false,
      "duration": 0.15526986122131348,
      "message": "OAuth authentication system test failed",
      "details": null,
      "error": "404 Client Error: Not Found for url: https://adomcp.vercel.app/api/oauth"
    },
    {
      "test_name": "Error Handling",
      "success": true,
      "duration": 0.6610138416290283,
      "message": "All 3 error handling tests passed",
      "details": {
        "test_results": [
          [
            "Invalid JSON-RPC method",
            true
          ],
          [
            "Missing user_id validation",
            true
          ],
          [
            "Invalid platform validation",
            true
          ]
        ]
      },
      "error": null
    }
  ]
}